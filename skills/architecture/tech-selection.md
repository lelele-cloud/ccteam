# 技术选型技能

## 概述

系统化地进行技术选型评估，通过多维度对比分析，选择最适合项目需求的技术方案，并记录决策过程和理由，为团队提供清晰的技术方向。

## 适用角色

- 系统架构师（主要）
- 技术负责人
- 高级开发工程师

## 输入

- **项目需求**：功能需求和非功能需求
- **技术约束**：现有技术栈、团队技能、基础设施
- **候选技术**：待评估的技术选项
- **评估范围**：需要选型的技术领域

## 输出

- **技术选型报告**：`docs/ccteam/02-architecture/tech-selection.md`
- **对比分析表**：各技术方案的对比矩阵
- **决策记录**：ADR格式的技术选型决策

## 选型评估维度

### 核心评估维度

| 维度 | 权重建议 | 评估内容 |
|------|----------|----------|
| **功能匹配度** | 20-30% | 是否满足功能需求 |
| **性能表现** | 15-25% | 性能指标、扩展能力 |
| **团队熟悉度** | 15-20% | 团队学习成本、已有经验 |
| **生态成熟度** | 10-15% | 社区活跃度、文档质量、第三方集成 |
| **运维复杂度** | 10-15% | 部署难度、监控支持、故障排查 |
| **成本** | 10-15% | 许可费用、基础设施成本、人力成本 |
| **安全性** | 5-10% | 安全漏洞历史、安全特性 |
| **长期可持续性** | 5-10% | 发展趋势、维护状态 |

### 评分标准

| 分数 | 等级 | 说明 |
|------|------|------|
| 5 | 优秀 | 完全满足需求，显著优于其他选项 |
| 4 | 良好 | 满足需求，有一定优势 |
| 3 | 一般 | 基本满足需求，无明显优劣 |
| 2 | 较差 | 勉强满足需求，有明显不足 |
| 1 | 差 | 不满足需求，不推荐使用 |

## 对比分析方法

### 方法1：加权评分矩阵

```markdown
## 技术选型评估 - [技术领域]

### 评估背景
- 评估日期：YYYY-MM-DD
- 评估人员：[姓名列表]
- 评估目的：[描述]

### 候选方案
1. [方案A]
2. [方案B]
3. [方案C]

### 评估矩阵

| 维度 | 权重 | 方案A | 方案B | 方案C |
|------|------|-------|-------|-------|
| 功能匹配度 | 25% | 4 | 5 | 3 |
| 性能表现 | 20% | 5 | 4 | 4 |
| 团队熟悉度 | 20% | 5 | 3 | 2 |
| 生态成熟度 | 15% | 4 | 5 | 3 |
| 运维复杂度 | 10% | 4 | 3 | 4 |
| 成本 | 10% | 4 | 3 | 5 |
| **加权总分** | 100% | **4.30** | **3.95** | **3.25** |

### 评估结论
推荐选择：[方案A]
主要理由：[简要说明]
```

### 方法2：SWOT分析

```markdown
## [技术名称] SWOT分析

### Strengths（优势）
- [优势1]
- [优势2]

### Weaknesses（劣势）
- [劣势1]
- [劣势2]

### Opportunities（机会）
- [机会1]
- [机会2]

### Threats（威胁）
- [威胁1]
- [威胁2]

### 综合评估
[基于SWOT的综合评估结论]
```

### 方法3：原型验证

```markdown
## 技术原型验证报告

### 验证目标
验证[技术名称]在[具体场景]下的表现

### 验证环境
- 硬件配置：[配置说明]
- 软件版本：[版本信息]
- 数据规模：[数据量]

### 验证场景
1. 场景1：[场景描述]
2. 场景2：[场景描述]

### 验证结果

| 场景 | 指标 | 预期值 | 实际值 | 结果 |
|------|------|--------|--------|------|
| 场景1 | 响应时间 | <100ms | 85ms | 通过 |
| 场景1 | 吞吐量 | >1000TPS | 1200TPS | 通过 |

### 验证结论
[验证结论和建议]
```

## 常见技术领域选型指南

### 编程语言选型

| 场景 | 推荐语言 | 理由 |
|------|----------|------|
| Web后端 | Go, Java, Node.js | 成熟生态、高性能 |
| Web前端 | TypeScript | 类型安全、生态丰富 |
| 数据处理 | Python | 丰富的数据库、简单易用 |
| 系统编程 | Rust, C++ | 性能、内存安全 |
| 移动开发 | Swift, Kotlin | 原生性能、平台支持 |
| 脚本自动化 | Python, Shell | 简单高效 |

### 数据库选型

| 场景 | 推荐方案 | 理由 |
|------|----------|------|
| 关系型数据 | PostgreSQL, MySQL | 成熟稳定、功能丰富 |
| 文档存储 | MongoDB | 灵活schema、横向扩展 |
| 键值存储 | Redis | 极高性能、丰富数据结构 |
| 时序数据 | InfluxDB, TimescaleDB | 专为时序优化 |
| 搜索引擎 | Elasticsearch | 全文搜索、分析能力 |
| 图数据库 | Neo4j | 关系查询高效 |

### 消息队列选型

| 场景 | 推荐方案 | 理由 |
|------|----------|------|
| 高吞吐量 | Kafka | 极高吞吐、持久化 |
| 传统消息 | RabbitMQ | 功能丰富、易用 |
| 云原生 | NATS | 轻量、云原生 |
| 简单场景 | Redis Pub/Sub | 简单直接 |

### 前端框架选型

| 场景 | 推荐方案 | 理由 |
|------|----------|------|
| 大型应用 | React, Vue | 成熟生态、组件化 |
| 全栈应用 | Next.js, Nuxt | SSR、开发体验 |
| 移动端 | React Native, Flutter | 跨平台、原生体验 |
| 小型项目 | Vue, Svelte | 学习曲线低 |

## 决策记录格式

```markdown
# 技术选型决策记录 - [技术领域]

## 基本信息
| 属性 | 值 |
|------|-----|
| 决策编号 | TS-YYYY-MM-NNN |
| 决策日期 | YYYY-MM-DD |
| 决策者 | [姓名列表] |
| 状态 | 草案/评审中/已批准/已废弃 |

## 背景
[描述为什么需要进行技术选型，项目上下文和需求]

## 需求
### 功能需求
- [需求1]
- [需求2]

### 非功能需求
- [需求1]
- [需求2]

### 约束条件
- [约束1]
- [约束2]

## 候选方案

### 方案1：[技术名称]
**简介**：[简要介绍]

**优点**：
- [优点1]
- [优点2]

**缺点**：
- [缺点1]
- [缺点2]

**成本估算**：
- 许可费用：[费用]
- 基础设施：[费用]
- 学习成本：[工时]

### 方案2：[技术名称]
[同上结构]

## 评估对比
[插入评估矩阵]

## 决策
**选定方案**：[方案名称]

**主要理由**：
1. [理由1]
2. [理由2]
3. [理由3]

**风险及缓解措施**：
| 风险 | 可能性 | 影响 | 缓解措施 |
|------|--------|------|----------|
| [风险1] | 中 | 高 | [措施] |

## 后续行动
1. [行动项1] - 责任人 - 截止日期
2. [行动项2] - 责任人 - 截止日期

## 参考资料
- [链接1]
- [链接2]
```

## 执行步骤

### 步骤1：明确选型范围
1. 确定需要选型的技术领域
2. 收集功能和非功能需求
3. 识别约束条件

### 步骤2：调研候选方案
1. 搜集业界常用方案
2. 初步筛选（排除明显不适合的）
3. 收集各方案详细信息

### 步骤3：定义评估维度
1. 根据项目特点确定评估维度
2. 分配各维度权重
3. 制定评分标准

### 步骤4：详细评估
1. 对每个候选方案进行评分
2. 必要时进行原型验证
3. 计算加权总分

### 步骤5：团队评审
1. 组织评审会议
2. 讨论不同观点
3. 达成共识

### 步骤6：记录决策
1. 编写决策记录
2. 说明选择理由
3. 记录风险和缓解措施

## 质量检查

### 评估过程
- [ ] 候选方案覆盖主流选项
- [ ] 评估维度全面合理
- [ ] 评分有充分依据
- [ ] 团队参与评审

### 决策质量
- [ ] 决策理由充分
- [ ] 风险已识别并有缓解措施
- [ ] 成本估算合理
- [ ] 与现有技术栈兼容

### 文档完整性
- [ ] 选型报告完整
- [ ] 对比矩阵清晰
- [ ] 决策记录规范
- [ ] 参考资料完整

## 相关技能

- [system-design](./system-design.md) - 系统架构设计技能
