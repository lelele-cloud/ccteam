# 文档编写技能

## 概述

系统化编写技术文档，确保文档清晰、准确、易于理解和维护。涵盖从信息收集到文档发布的完整流程。

## 适用角色

- 文档工程师（主要）
- 所有开发角色（参考）

## 输入

- **技术资料**：代码、设计文档、API规范
- **人员访谈**：开发者、产品经理、用户
- **现有文档**：已有文档和历史版本
- **用户反馈**：用户问题和建议

## 输出

- **技术文档**：`docs/ccteam/10-docs/`
- **API文档**：`docs/ccteam/05-api/`
- **用户手册**：`docs/ccteam/10-docs/user-guide/`
- **README**：项目根目录

## 执行步骤

### 步骤1：文档规划

1. **确定文档类型**
   | 类型 | 目的 | 受众 | 特点 |
   |------|------|------|------|
   | 概述 | 快速了解 | 所有人 | 简洁、宏观 |
   | 教程 | 学习使用 | 新手 | 步骤详细、有示例 |
   | 参考 | 查询细节 | 开发者 | 完整、准确 |
   | 故障排查 | 解决问题 | 运维/用户 | 问题导向 |

2. **确定结构大纲**
   ```markdown
   ## 技术文档大纲

   1. 概述
      - 什么是XX
      - 主要功能
      - 适用场景

   2. 快速开始
      - 前置条件
      - 安装步骤
      - 第一个示例

   3. 核心概念
      - 概念A
      - 概念B

   4. 使用指南
      - 功能1使用
      - 功能2使用

   5. API参考
      - API列表
      - 详细说明

   6. 常见问题
      - 问题1
      - 问题2
   ```

### 步骤2：信息收集

1. **代码研读**
   - 阅读源代码和注释
   - 运行和测试功能
   - 理解实现原理

2. **人员访谈**
   ```markdown
   ## 访谈问题清单

   对开发者：
   - 这个功能解决什么问题？
   - 实现的关键点是什么？
   - 有哪些需要注意的地方？
   - 常见的错误用法有哪些？

   对产品经理：
   - 用户主要怎么使用？
   - 有哪些常见问题？
   - 用户反馈最多的是什么？
   ```

3. **资料整理**
   - 收集相关文档
   - 整理技术细节
   - 记录关键信息

### 步骤3：内容撰写

1. **写作原则**
   ```markdown
   ## 写作原则

   ### 清晰原则
   - 一句话一个意思
   - 避免长句和从句
   - 使用主动语态

   ### 简洁原则
   - 删除冗余词汇
   - 避免重复说明
   - 直接切入主题

   ### 准确原则
   - 技术细节准确
   - 代码示例可运行
   - 版本信息明确

   ### 一致原则
   - 术语统一
   - 格式统一
   - 风格统一
   ```

2. **代码示例**
   ```markdown
   ## 代码示例规范

   ### 示例要求
   - 完整可运行
   - 有必要的注释
   - 包含预期输出
   - 覆盖常见场景

   ### 示例格式
   ```python
   # 创建用户示例
   from app import User

   # 创建一个新用户
   user = User(name="张三", email="zhang@example.com")
   user.save()

   # 输出: User created: 张三
   print(f"User created: {user.name}")
   ```
   ```

3. **图表使用**
   - 流程图：说明步骤和流程
   - 架构图：说明系统结构
   - 表格：对比和列举
   - 截图：界面说明

### 步骤4：评审修订

1. **自我检查**
   - 通读全文，检查流畅性
   - 验证代码示例可运行
   - 检查链接有效性
   - 确认格式正确

2. **专业评审**
   - 请开发者检查技术准确性
   - 请新人检查可理解性
   - 收集修改意见

3. **修订完善**
   - 根据反馈修改
   - 更新不准确内容
   - 补充遗漏信息

### 步骤5：发布维护

1. **发布流程**
   - 合并到文档仓库
   - 发布到文档平台
   - 通知相关人员

2. **持续维护**
   - 定期检查时效性
   - 收集用户反馈
   - 及时更新内容
   - 版本同步更新

## 文档模板

### README模板
```markdown
# 项目名称

简短描述项目是什么，解决什么问题。

## 功能特性

- 特性1
- 特性2

## 快速开始

### 安装

```bash
npm install xxx
```

### 使用

```javascript
import { xxx } from 'xxx';
xxx();
```

## 文档

- [详细文档](./docs)
- [API参考](./docs/api)

## 贡献

欢迎贡献！请阅读[贡献指南](./CONTRIBUTING.md)。

## 许可证

MIT License
```

### API文档模板
```markdown
## 接口名称

接口描述

### 请求

```
POST /api/v1/users
```

### 参数

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| name | string | 是 | 用户名 |
| email | string | 是 | 邮箱 |

### 响应

```json
{
  "code": 0,
  "data": {
    "id": "123",
    "name": "张三"
  }
}
```

### 错误码

| 错误码 | 说明 |
|--------|------|
| 40001 | 参数错误 |
```

## 质量检查

### 内容检查
- [ ] 信息准确完整
- [ ] 示例可运行
- [ ] 链接有效
- [ ] 版本正确

### 结构检查
- [ ] 大纲清晰
- [ ] 层级合理
- [ ] 导航便利
- [ ] 目录完整

### 写作检查
- [ ] 表述清晰
- [ ] 术语一致
- [ ] 格式规范
- [ ] 无错别字

### 受众检查
- [ ] 难度适合
- [ ] 前置说明
- [ ] 渐进深入
- [ ] 有学习路径

## 常见问题与解决方案

| 问题 | 解决方案 |
|------|----------|
| 信息收集困难 | 多渠道收集，代码是一手资料 |
| 内容快速过时 | 与代码同仓库，CI检查 |
| 示例不可运行 | 自动化测试示例代码 |
| 用户找不到信息 | 改进搜索和导航 |

## 相关技能

- [api-design](../api/api-design.md) - API设计技能
- [code-review](../development/code-review.md) - 代码审查技能
