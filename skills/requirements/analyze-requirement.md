# 需求分析技能

## 概述

系统化分析用户需求，理解业务目标，识别核心功能点，输出结构化的需求分析报告。帮助团队准确理解需求，避免后期返工。

## 适用角色

- 产品经理（主要）
- 项目经理
- 技术负责人
- 系统架构师

## 输入

- **需求来源**：用户反馈、市场调研、业务方提案、竞品分析等
- **背景信息**：项目上下文、现有系统状态、技术约束
- **干系人信息**：相关干系人及其期望
- **参考文档**：相关的历史需求、技术文档、业务流程图

## 输出

- **需求分析报告**：`docs/ccteam/01-requirements/requirement-analysis.md`
- **需求清单**：结构化的需求列表，包含优先级标记
- **澄清问题列表**：需要进一步确认的问题
- **风险评估**：潜在风险和约束条件

## 执行步骤

### 步骤1：需求理解

1. **收集原始需求**
   - 仔细阅读所有输入材料
   - 记录关键业务术语和概念
   - 标注不清晰或模糊的描述

2. **识别干系人**
   - 确定主要干系人
   - 了解各干系人的关注点
   - 记录潜在的利益冲突

3. **理解业务背景**
   - 分析业务目标和驱动因素
   - 了解当前痛点和问题
   - 明确期望达成的效果

### 步骤2：需求澄清

1. **提出澄清问题**
   ```markdown
   ## 澄清问题清单

   | 编号 | 问题 | 类型 | 优先级 | 状态 |
   |------|------|------|--------|------|
   | Q1 | [具体问题] | 功能/业务/技术 | 高/中/低 | 待确认 |
   ```

2. **假设验证**
   - 列出所有假设条件
   - 标记需要验证的假设
   - 记录验证结果

3. **边界条件确认**
   - 确定功能范围边界
   - 明确不在范围内的内容
   - 识别与其他系统的交互点

### 步骤3：需求拆解

1. **功能分解**
   - 将大需求拆解为独立功能模块
   - 建立功能层次结构
   - 识别功能间的依赖关系

2. **用例分析**
   - 识别主要参与者
   - 描述核心用例场景
   - 绘制用例关系图

3. **非功能需求提取**
   - 性能要求（响应时间、吞吐量）
   - 可用性要求（SLA、故障恢复）
   - 安全性要求（认证、授权、数据保护）
   - 可扩展性要求（用户量、数据量增长）

### 步骤4：优先级评估

1. **使用MoSCoW方法分类**
   - **Must have**：核心功能，必须实现
   - **Should have**：重要功能，应该实现
   - **Could have**：有价值功能，可以实现
   - **Won't have**：本期不实现，但记录

2. **评估维度**
   | 维度 | 权重 | 评估标准 |
   |------|------|----------|
   | 业务价值 | 40% | 对业务目标的贡献度 |
   | 用户影响 | 25% | 影响用户数量和程度 |
   | 技术复杂度 | 20% | 实现难度和风险 |
   | 依赖关系 | 15% | 是否阻塞其他功能 |

3. **生成优先级矩阵**
   ```markdown
   ## 优先级矩阵

   | 功能 | 业务价值 | 用户影响 | 复杂度 | 依赖 | 综合得分 | 优先级 |
   |------|----------|----------|--------|------|----------|--------|
   | 功能A | 4 | 3 | 2 | 1 | 3.2 | P0 |
   ```

### 步骤5：输出报告

生成标准格式的需求分析报告：

```markdown
# 需求分析报告

## 1. 概述
- 项目名称
- 分析日期
- 分析人员
- 版本号

## 2. 背景与目标
- 业务背景
- 项目目标
- 成功指标

## 3. 干系人分析
- 干系人列表
- 各方关注点

## 4. 需求清单
### 4.1 功能需求
### 4.2 非功能需求

## 5. 优先级评估
- 优先级矩阵
- 实施建议

## 6. 风险与约束
- 已识别风险
- 约束条件

## 7. 待澄清问题
- 问题列表
- 建议解决方案

## 8. 附录
- 参考文档
- 术语表
```

## 质量检查

在完成需求分析前，确认以下检查项：

### 完整性检查
- [ ] 所有原始需求都已被分析和记录
- [ ] 功能需求和非功能需求都已覆盖
- [ ] 干系人列表完整，关注点已记录
- [ ] 边界条件和约束已明确

### 清晰性检查
- [ ] 需求描述没有歧义
- [ ] 术语定义一致
- [ ] 用例场景描述完整
- [ ] 验收标准可测试

### 可行性检查
- [ ] 技术实现可行性已评估
- [ ] 资源需求已初步估算
- [ ] 时间约束已考虑
- [ ] 风险已识别并有应对方案

### 一致性检查
- [ ] 需求间没有冲突
- [ ] 与现有系统兼容
- [ ] 优先级评估合理
- [ ] 依赖关系正确

## 常见问题与解决方案

| 问题 | 解决方案 |
|------|----------|
| 需求描述模糊 | 使用5W1H方法追问，要求给出具体场景 |
| 干系人意见冲突 | 组织评审会议，基于业务价值进行决策 |
| 范围蔓延 | 严格使用MoSCoW方法，将新增需求放入待办列表 |
| 技术约束不清 | 尽早与技术团队沟通，获取技术可行性评估 |

## 相关技能

- [write-prd](./write-prd.md) - PRD编写技能
- [write-user-story](./write-user-story.md) - 用户故事编写技能
