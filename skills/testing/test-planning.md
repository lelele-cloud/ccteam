# 测试计划技能

## 概述

制定全面的测试策略和计划，明确测试范围、测试类型、资源需求和时间安排，确保软件质量目标的达成，为测试执行提供清晰的指导。

## 适用角色

- 测试工程师（主要）
- 测试负责人
- 质量保证工程师
- 项目经理

## 输入

- **PRD文档**：产品需求文档
- **技术设计文档**：架构设计、接口规范
- **用户故事**：功能需求和验收标准
- **项目计划**：时间节点、资源情况

## 输出

- **测试计划文档**：`docs/ccteam/04-testing/test-plan.md`
- **测试用例清单**：测试用例概要列表
- **测试资源计划**：人员、环境、工具需求

## 测试策略制定

### 测试金字塔

```
                    /\
                   /  \
                  / E2E\         少量端到端测试
                 /______\        验证完整业务流程
                /        \
               /Integration\     适量集成测试
              /______________\   验证模块协作
             /                \
            /   Unit Tests     \  大量单元测试
           /____________________\ 验证独立单元
```

### 测试比例建议

| 测试类型 | 比例 | 执行频率 | 执行耗时 |
|----------|------|----------|----------|
| 单元测试 | 70% | 每次提交 | 秒级 |
| 集成测试 | 20% | 每次构建 | 分钟级 |
| E2E测试 | 10% | 每日/每次部署 | 分钟~小时 |

### 测试范围确定

```markdown
## 测试范围定义

### 在测试范围内
1. 核心业务功能
   - [功能1]
   - [功能2]

2. 关键用户流程
   - [流程1]
   - [流程2]

3. 非功能需求
   - 性能测试
   - 安全测试

### 不在测试范围内
1. [排除项1] - 原因：[说明]
2. [排除项2] - 原因：[说明]

### 测试优先级
| 优先级 | 范围 | 说明 |
|--------|------|------|
| P0 | 核心功能 | 必须全面测试 |
| P1 | 重要功能 | 重点测试 |
| P2 | 一般功能 | 基本测试 |
| P3 | 次要功能 | 可选测试 |
```

## 测试类型选择

### 功能测试

| 测试类型 | 目的 | 适用场景 |
|----------|------|----------|
| **单元测试** | 验证最小代码单元 | 所有业务逻辑 |
| **集成测试** | 验证模块间协作 | 模块交互、API调用 |
| **系统测试** | 验证完整系统 | 全流程功能 |
| **回归测试** | 验证已有功能未受影响 | 每次变更后 |
| **冒烟测试** | 快速验证基本功能 | 构建后快速检查 |
| **验收测试** | 验证用户需求 | 发布前确认 |

### 非功能测试

| 测试类型 | 目的 | 关键指标 |
|----------|------|----------|
| **性能测试** | 验证系统性能 | 响应时间、吞吐量 |
| **负载测试** | 验证高负载下表现 | 并发用户数、资源使用 |
| **压力测试** | 找到系统极限 | 最大负载、恢复能力 |
| **安全测试** | 验证安全性 | 漏洞数量、安全等级 |
| **兼容性测试** | 验证跨平台/浏览器 | 支持范围 |
| **可用性测试** | 验证用户体验 | 用户满意度 |

### 测试类型选择矩阵

```markdown
## 测试类型选择

| 功能/模块 | 单元 | 集成 | E2E | 性能 | 安全 |
|-----------|------|------|-----|------|------|
| 用户认证 | ✓ | ✓ | ✓ | ✓ | ✓ |
| 订单处理 | ✓ | ✓ | ✓ | ✓ | - |
| 数据报表 | ✓ | ✓ | - | ✓ | - |
| 系统配置 | ✓ | - | - | - | ✓ |
```

## 资源规划

### 人员资源

```markdown
## 测试团队配置

| 角色 | 人数 | 职责 |
|------|------|------|
| 测试负责人 | 1 | 整体规划、进度把控 |
| 功能测试工程师 | 2 | 功能测试执行 |
| 自动化测试工程师 | 1 | 自动化脚本开发 |
| 性能测试工程师 | 1 | 性能测试执行 |

## 技能要求
- 熟悉业务领域
- 掌握测试工具：[工具列表]
- 自动化能力：[要求]
```

### 环境资源

```markdown
## 测试环境规划

| 环境 | 用途 | 配置 | 数据 |
|------|------|------|------|
| DEV | 开发自测 | 最小配置 | 模拟数据 |
| SIT | 系统集成测试 | 标准配置 | 测试数据 |
| UAT | 用户验收测试 | 生产配置 | 脱敏数据 |
| PERF | 性能测试 | 生产配置 | 生产级数据 |

## 环境依赖
- 数据库：[类型和版本]
- 中间件：[列表]
- 第三方服务：[Mock/真实]
```

### 工具资源

```markdown
## 测试工具清单

### 测试管理
| 工具 | 用途 |
|------|------|
| Jira/禅道 | 测试用例管理、缺陷跟踪 |
| TestRail | 测试计划管理 |

### 自动化测试
| 工具 | 用途 |
|------|------|
| Jest/Pytest | 单元测试 |
| Playwright/Cypress | E2E测试 |
| Postman/RestAssured | API测试 |

### 性能测试
| 工具 | 用途 |
|------|------|
| JMeter | 负载测试 |
| Locust | 压力测试 |
| Grafana | 监控分析 |

### 安全测试
| 工具 | 用途 |
|------|------|
| OWASP ZAP | 漏洞扫描 |
| SonarQube | 代码安全分析 |
```

## 测试计划文档模板

```markdown
# 测试计划

## 文档信息
| 属性 | 值 |
|------|-----|
| 项目名称 | [项目名] |
| 版本 | v1.0 |
| 创建日期 | YYYY-MM-DD |
| 作者 | [姓名] |
| 状态 | 草稿/评审中/已批准 |

## 修订历史
| 版本 | 日期 | 作者 | 修改内容 |
|------|------|------|----------|

---

## 1. 概述

### 1.1 目的
本文档描述[项目名]的测试策略、范围、方法和计划。

### 1.2 范围
[描述测试覆盖的功能范围]

### 1.3 参考文档
- PRD: [链接]
- 技术设计: [链接]

---

## 2. 测试策略

### 2.1 测试级别
[描述各测试级别的策略]

### 2.2 测试类型
[描述需要执行的测试类型]

### 2.3 测试方法
- 功能测试：[方法]
- 自动化策略：[策略]
- 回归测试：[策略]

---

## 3. 测试范围

### 3.1 功能测试范围
| 功能模块 | 优先级 | 测试类型 | 备注 |
|----------|--------|----------|------|
| [模块1] | P0 | 单元+集成+E2E | |
| [模块2] | P1 | 单元+集成 | |

### 3.2 非功能测试范围
| 测试类型 | 范围 | 目标指标 |
|----------|------|----------|
| 性能测试 | [范围] | [指标] |
| 安全测试 | [范围] | [指标] |

### 3.3 不在范围内
- [排除项1]
- [排除项2]

---

## 4. 测试环境

### 4.1 环境配置
[环境配置详情]

### 4.2 测试数据
[测试数据准备策略]

### 4.3 环境依赖
[外部依赖说明]

---

## 5. 测试进度

### 5.1 里程碑
| 里程碑 | 日期 | 交付物 |
|--------|------|--------|
| 测试计划完成 | MM-DD | 测试计划文档 |
| 用例设计完成 | MM-DD | 测试用例 |
| 测试执行开始 | MM-DD | - |
| 测试执行完成 | MM-DD | 测试报告 |

### 5.2 详细进度
[甘特图或详细时间表]

---

## 6. 资源需求

### 6.1 人员
[人员配置]

### 6.2 环境
[环境需求]

### 6.3 工具
[工具需求]

---

## 7. 风险评估

| 风险 | 可能性 | 影响 | 缓解措施 |
|------|--------|------|----------|
| [风险1] | 高/中/低 | 高/中/低 | [措施] |

---

## 8. 准入准出标准

### 8.1 测试准入标准
- [ ] 代码开发完成
- [ ] 单元测试通过
- [ ] 代码评审通过
- [ ] 测试环境就绪

### 8.2 测试准出标准
- [ ] 所有P0/P1用例执行完成
- [ ] P0缺陷全部修复
- [ ] P1缺陷修复率>90%
- [ ] 测试覆盖率达标

---

## 9. 缺陷管理

### 9.1 缺陷分类
| 级别 | 定义 | 修复时限 |
|------|------|----------|
| P0-致命 | 系统崩溃、核心功能不可用 | 4小时 |
| P1-严重 | 主要功能异常 | 24小时 |
| P2-一般 | 次要功能异常 | 3天 |
| P3-轻微 | UI问题、体验问题 | 下个版本 |

### 9.2 缺陷流程
[缺陷处理流程说明]

---

## 10. 交付物

| 交付物 | 描述 | 交付时间 |
|--------|------|----------|
| 测试计划 | 本文档 | [日期] |
| 测试用例 | 详细测试用例 | [日期] |
| 测试报告 | 测试执行总结 | [日期] |
| 缺陷清单 | 缺陷列表及状态 | [日期] |
```

## 执行步骤

### 步骤1：需求分析
1. 阅读PRD和技术设计文档
2. 理解功能需求和非功能需求
3. 识别测试重点和风险点

### 步骤2：策略制定
1. 确定测试级别和类型
2. 制定自动化策略
3. 确定测试方法

### 步骤3：范围定义
1. 列出测试范围内的功能
2. 明确排除项
3. 确定优先级

### 步骤4：资源规划
1. 评估人员需求
2. 规划测试环境
3. 确定工具需求

### 步骤5：进度安排
1. 制定里程碑
2. 估算工作量
3. 安排详细进度

### 步骤6：评审完善
1. 组织测试计划评审
2. 收集反馈意见
3. 修订完善计划

## 质量检查

### 完整性
- [ ] 测试范围完整覆盖需求
- [ ] 测试类型选择合理
- [ ] 资源规划完整
- [ ] 进度安排可行

### 可行性
- [ ] 资源需求可满足
- [ ] 时间安排合理
- [ ] 风险可控
- [ ] 准出标准可达成

### 清晰性
- [ ] 测试策略清晰
- [ ] 范围边界明确
- [ ] 职责分工明确
- [ ] 交付物定义清晰

## 相关技能

- [test-execution](./test-execution.md) - 测试执行技能
