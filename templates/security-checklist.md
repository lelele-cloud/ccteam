# 安全检查清单

## 文档信息

| 属性 | 值 |
|------|-----|
| 项目名称 | {{project_name}} |
| 版本 | v1.0 |
| 检查日期 | {{date}} |
| 检查人 | 安全工程师 |

---

## 1. 认证与授权

### 1.1 身份认证

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 密码强度策略 | - | 最少8位，包含大小写字母、数字、特殊字符 |
| [ ] 密码加密存储 | - | 使用BCrypt或Argon2加密 |
| [ ] 登录失败限制 | - | 5次失败后锁定账户15分钟 |
| [ ] 会话超时设置 | - | 无操作30分钟后自动登出 |
| [ ] Token安全 | - | 使用安全的JWT配置 |
| [ ] 多因素认证 | - | 敏感操作支持MFA |

### 1.2 授权控制

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 最小权限原则 | - | 用户只能访问必需的资源 |
| [ ] 角色权限分离 | - | 实现RBAC或ABAC |
| [ ] API权限控制 | - | 所有API都有权限验证 |
| [ ] 资源级别控制 | - | 用户只能访问自己的数据 |

---

## 2. 数据安全

### 2.1 传输安全

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] HTTPS强制 | - | 所有请求强制使用HTTPS |
| [ ] TLS版本 | - | 最低TLS 1.2，推荐1.3 |
| [ ] 证书有效性 | - | 使用有效的SSL证书 |
| [ ] HSTS启用 | - | 启用HTTP Strict Transport Security |

### 2.2 存储安全

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 敏感数据加密 | - | 密码、密钥等敏感数据加密存储 |
| [ ] 数据库加密 | - | 启用数据库透明加密 |
| [ ] 文件加密 | - | 敏感文件加密存储 |
| [ ] 密钥管理 | - | 使用安全的密钥管理方案 |

### 2.3 数据脱敏

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 日志脱敏 | - | 日志中不包含敏感信息 |
| [ ] API响应脱敏 | - | 返回数据中敏感字段脱敏 |
| [ ] 测试数据脱敏 | - | 测试环境使用脱敏数据 |

---

## 3. 输入验证

### 3.1 前端验证

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 输入长度限制 | - | 所有输入字段有长度限制 |
| [ ] 输入格式验证 | - | 邮箱、电话等有格式验证 |
| [ ] 文件上传限制 | - | 限制文件类型和大小 |

### 3.2 后端验证

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 参数校验 | - | 所有API参数都有校验 |
| [ ] SQL注入防护 | - | 使用参数化查询 |
| [ ] XSS防护 | - | 输出编码，CSP策略 |
| [ ] 命令注入防护 | - | 避免直接执行系统命令 |
| [ ] 路径遍历防护 | - | 验证文件路径 |

---

## 4. API安全

### 4.1 接口安全

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 请求频率限制 | - | 实现API限流 |
| [ ] 请求大小限制 | - | 限制请求体大小 |
| [ ] 版本控制 | - | API版本化管理 |
| [ ] 错误处理 | - | 不暴露敏感错误信息 |

### 4.2 防护措施

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] CORS配置 | - | 正确配置跨域策略 |
| [ ] CSRF防护 | - | 实现CSRF Token |
| [ ] 重放攻击防护 | - | 实现请求签名或时间戳 |

---

## 5. 基础设施安全

### 5.1 服务器安全

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 系统更新 | - | 定期更新系统补丁 |
| [ ] 防火墙配置 | - | 只开放必要端口 |
| [ ] SSH安全 | - | 禁用密码登录，使用密钥 |
| [ ] 服务最小化 | - | 只安装必要服务 |

### 5.2 容器安全

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 镜像安全 | - | 使用官方基础镜像 |
| [ ] 非root运行 | - | 容器以非root用户运行 |
| [ ] 资源限制 | - | 设置CPU、内存限制 |
| [ ] 网络隔离 | - | 容器网络隔离 |

### 5.3 数据库安全

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 访问控制 | - | 限制数据库访问IP |
| [ ] 账号管理 | - | 不使用root账号 |
| [ ] 备份加密 | - | 数据库备份加密存储 |
| [ ] 审计日志 | - | 开启数据库审计 |

---

## 6. 日志与监控

### 6.1 日志记录

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 登录日志 | - | 记录所有登录行为 |
| [ ] 操作日志 | - | 记录敏感操作 |
| [ ] 错误日志 | - | 记录系统错误 |
| [ ] 访问日志 | - | 记录API访问日志 |

### 6.2 安全监控

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 异常检测 | - | 检测异常登录行为 |
| [ ] 入侵检测 | - | 检测攻击行为 |
| [ ] 告警配置 | - | 安全事件实时告警 |

---

## 7. 合规性

### 7.1 数据合规

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 隐私政策 | - | 制定并公示隐私政策 |
| [ ] 用户同意 | - | 收集数据需用户同意 |
| [ ] 数据导出 | - | 支持用户数据导出 |
| [ ] 数据删除 | - | 支持用户数据删除 |

### 7.2 安全合规

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 等保合规 | - | 符合等保要求 |
| [ ] GDPR合规 | - | 符合GDPR要求（如适用） |

---

## 8. 应急响应

### 8.1 应急预案

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 应急预案制定 | - | 制定安全事件应急预案 |
| [ ] 联系人清单 | - | 维护安全联系人清单 |
| [ ] 演练计划 | - | 定期进行应急演练 |

### 8.2 恢复能力

| 检查项 | 状态 | 说明 |
|--------|------|------|
| [ ] 数据备份 | - | 定期备份重要数据 |
| [ ] 恢复测试 | - | 定期测试备份恢复 |
| [ ] 灾难恢复 | - | 制定灾难恢复计划 |

---

## 检查结果汇总

| 类别 | 总项数 | 通过 | 未通过 | 不适用 |
|------|--------|------|--------|--------|
| 认证与授权 | X | X | X | X |
| 数据安全 | X | X | X | X |
| 输入验证 | X | X | X | X |
| API安全 | X | X | X | X |
| 基础设施安全 | X | X | X | X |
| 日志与监控 | X | X | X | X |
| 合规性 | X | X | X | X |
| 应急响应 | X | X | X | X |
| **总计** | **X** | **X** | **X** | **X** |

---

## 变更记录

| 版本 | 日期 | 修改人 | 修改内容 |
|------|------|--------|----------|
| v1.0 | {{date}} | - | 初始版本 |
